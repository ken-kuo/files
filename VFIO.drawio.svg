<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1098px" height="974px" viewBox="-0.5 -0.5 1098 974" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2022-09-27T15:47:26.000Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36&quot; etag=&quot;QVZbBM5PsDSWd-eikkZ4&quot; version=&quot;20.3.3&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;iHGhPvlXnuffIIIrRmfL&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-81-31-162-26-0"><rect x="81" y="31" width="162" height="26"/></clipPath><clipPath id="mx-clip-81-57-162-26-0"><rect x="81" y="57" width="162" height="26"/></clipPath><clipPath id="mx-clip-51-161-192-26-0"><rect x="51" y="161" width="192" height="26"/></clipPath><clipPath id="mx-clip-51-195-192-26-0"><rect x="51" y="195" width="192" height="26"/></clipPath><clipPath id="mx-clip-51-323-192-26-0"><rect x="51" y="323" width="192" height="26"/></clipPath><clipPath id="mx-clip-51-411-162-26-0"><rect x="51" y="411" width="162" height="26"/></clipPath><clipPath id="mx-clip-51-543-162-26-0"><rect x="51" y="543" width="162" height="26"/></clipPath><clipPath id="mx-clip-51-577-162-26-0"><rect x="51" y="577" width="162" height="26"/></clipPath><clipPath id="mx-clip-51-687-162-26-0"><rect x="51" y="687" width="162" height="26"/></clipPath><clipPath id="mx-clip-51-721-162-26-0"><rect x="51" y="721" width="162" height="26"/></clipPath><clipPath id="mx-clip-51-755-162-26-0"><rect x="51" y="755" width="162" height="26"/></clipPath><clipPath id="mx-clip-51-789-162-26-0"><rect x="51" y="789" width="162" height="26"/></clipPath><clipPath id="mx-clip-51-893-162-26-0"><rect x="51" y="893" width="162" height="26"/></clipPath><clipPath id="mx-clip-281-881-162-26-0"><rect x="281" y="881" width="162" height="26"/></clipPath><clipPath id="mx-clip-281-907-162-26-0"><rect x="281" y="907" width="162" height="26"/></clipPath><clipPath id="mx-clip-341-391-122-26-0"><rect x="341" y="391" width="122" height="26"/></clipPath><clipPath id="mx-clip-341-417-122-26-0"><rect x="341" y="417" width="122" height="26"/></clipPath><clipPath id="mx-clip-341-443-122-26-0"><rect x="341" y="443" width="122" height="26"/></clipPath><clipPath id="mx-clip-341-469-122-26-0"><rect x="341" y="469" width="122" height="26"/></clipPath><clipPath id="mx-clip-506-391-162-26-0"><rect x="506" y="391" width="162" height="26"/></clipPath><clipPath id="mx-clip-341-541-122-26-0"><rect x="341" y="541" width="122" height="26"/></clipPath><clipPath id="mx-clip-561-469-382-154-0"><rect x="561" y="469" width="382" height="154"/></clipPath><clipPath id="mx-clip-341-141-532-194-0"><rect x="341" y="141" width="532" height="194"/></clipPath><clipPath id="mx-clip-506-861-402-114-0"><rect x="506" y="861" width="402" height="114"/></clipPath><clipPath id="mx-clip-531-661-412-144-0"><rect x="531" y="661" width="412" height="144"/></clipPath></defs><g><path d="M 77 26 L 77 0 L 247 0 L 247 26" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 77 26 L 77 78 L 247 78 L 247 26" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 77 26 L 247 26" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="161.5" y="17.5">vfio (global)</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-81-31-162-26-0)" font-size="12px"><text x="82.5" y="43.5">iommu_drivers_list: list_head</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-81-57-162-26-0)" font-size="12px"><text x="82.5" y="69.5">group_list: list_head</text></g><path d="M 47 156 L 47 130 L 247 130 L 247 156" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 47 156 L 47 344 L 247 344 L 247 156" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 47 156 L 247 156" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="146.5" y="147.5">vfio_container </text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-51-161-192-26-0)" font-size="12px"><text x="52.5" y="173.5">group_list: list_head</text></g><path d="M 47 186 L 247 186" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-51-195-192-26-0)" font-size="12px"><text x="52.5" y="207.5">iommu_driver: vfio_iommu_driver</text></g><path d="M 47 220 L 247 220" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 190px; height: 1px; padding-top: 231px; margin-left: 53px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 82px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">iommu_data: void<br />VFIO_SET_IOMMU时指定，iommu_data为vfio_iommu_type1_open回传的vfio_iommu</div></div></div></foreignObject><text x="53" y="243" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">iommu_data: void...</text></switch></g><path d="M 47 314 L 247 314" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-51-323-192-26-0)" font-size="12px"><text x="52.5" y="335.5">noiommu: bool</text></g><path d="M 47 406 L 47 380 L 217 380 L 217 406" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 47 406 L 47 914 L 217 914 L 217 406" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 47 406 L 217 406" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="131.5" y="397.5">vfio_group</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-51-411-162-26-0)" font-size="12px"><text x="52.5" y="423.5">minor: int</text></g><path d="M 47 436 L 217 436" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 160px; height: 1px; padding-top: 447px; margin-left: 53px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 86px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">iommu_group: iommu_group *<br />vfio_group对应的iommu group，如果是vfio pci，则从iommu group在iommu初始化时已创建<div><br /></div></div></div></div></foreignObject><text x="53" y="459" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">iommu_group: iommu_group *...</text></switch></g><path d="M 47 534 L 217 534" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-51-543-162-26-0)" font-size="12px"><text x="52.5" y="555.5">container: vfio_container *</text></g><path d="M 47 568 L 217 568" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-51-577-162-26-0)" font-size="12px"><text x="52.5" y="589.5">device_list: list_head</text></g><path d="M 47 602 L 217 602" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 160px; height: 1px; padding-top: 613px; margin-left: 53px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 64px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">dev: device *<br />vfio_create_group调用device_create创建的char device<div><br /></div></div></div></div></foreignObject><text x="53" y="625" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">dev: device *...</text></switch></g><path d="M 47 678 L 217 678" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-51-687-162-26-0)" font-size="12px"><text x="52.5" y="699.5">nb: notifier_block</text></g><path d="M 47 712 L 217 712" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-51-721-162-26-0)" font-size="12px"><text x="52.5" y="733.5">vfio_next: list_head</text></g><path d="M 47 746 L 217 746" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-51-755-162-26-0)" font-size="12px"><text x="52.5" y="767.5">container_next: list_head</text></g><path d="M 47 780 L 217 780" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-51-789-162-26-0)" font-size="12px"><text x="52.5" y="801.5">unbound_list: list_head</text></g><path d="M 47 814 L 217 814" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 160px; height: 1px; padding-top: 825px; margin-left: 53px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 58px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">bool: noiommu<br />iommu_group-&gt;iommu_data若为NULL，代表没有真正iommu硬件，noiommu会为1</div></div></div></foreignObject><text x="53" y="837" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">bool: noiommu...</text></switch></g><path d="M 47 884 L 217 884" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-51-893-162-26-0)" font-size="12px"><text x="52.5" y="905.5">kvm: kvm *</text></g><path d="M 47 169 L 27 169 L 27 763 L 40.63 763" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 45.88 763 L 38.88 766.5 L 40.63 763 L 38.88 759.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 277 876 L 277 850 L 447 850 L 447 876" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 277 876 L 277 928 L 447 928 L 447 876" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 277 876 L 447 876" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="361.5" y="867.5">vfio_group</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-281-881-162-26-0)" font-size="12px"><text x="282.5" y="893.5">container_next: list_head</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-281-907-162-26-0)" font-size="12px"><text x="282.5" y="919.5">vfio_next: list_head</text></g><path d="M 217 763 L 247 763 L 247 889 L 270.63 889" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 275.88 889 L 268.88 892.5 L 270.63 889 L 268.88 885.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 217 551 L 217 541 L 257 541 L 257 100 L 147 100 L 147 123.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 147 128.88 L 143.5 121.88 L 147 123.63 L 150.5 121.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 77 65 L 7 65 L 7 729 L 24 729 C 24 725.1 30 725.1 30 729 L 30 729 L 40.63 729" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 45.88 729 L 38.88 732.5 L 40.63 729 L 38.88 725.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 337 386 L 337 360 L 467 360 L 467 386" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 337 386 L 337 490 L 467 490 L 467 386" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 337 386 L 467 386" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="401.5" y="377.5">vfio_device </text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-341-391-122-26-0)" font-size="12px"><text x="342.5" y="403.5">dev: device *</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-341-417-122-26-0)" font-size="12px"><text x="342.5" y="429.5">ops: vfio_device_ops</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-341-443-122-26-0)" font-size="12px"><text x="342.5" y="455.5">group: vfio_group</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-341-469-122-26-0)" font-size="12px"><text x="342.5" y="481.5">group_next: list_head</text></g><path d="M 502 386 L 502 360 L 672 360 L 672 386" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 502 386 L 502 412 L 672 412 L 672 386" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 502 386 L 672 386" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="586.5" y="377.5">pci_dev</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-506-391-162-26-0)" font-size="12px"><text x="507.5" y="403.5">dev: device</text></g><path d="M 467 399 L 487 399 L 482 399 L 495.63 399" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 500.88 399 L 493.88 402.5 L 495.63 399 L 493.88 395.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 467 425 L 512 425 L 512 541 L 550.63 541" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 555.88 541 L 548.88 544.5 L 550.63 541 L 548.88 537.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 483px; margin-left: 512px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">pci</div></div></div></foreignObject><text x="512" y="486" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">pci</text></switch></g><path d="M 337 451 L 277 451 L 277 360 L 260 360 C 260 356.1 254 356.1 254 360 L 254 360 L 132 360 L 132 373.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 132 378.88 L 128.5 371.88 L 132 373.63 L 135.5 371.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 217 575 L 307 575 L 307 477 L 330.63 477" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 335.88 477 L 328.88 480.5 L 330.63 477 L 328.88 473.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 337 536 L 337 510 L 467 510 L 467 536" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 337 536 L 337 562 L 467 562 L 467 536" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 337 536 L 467 536" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="401.5" y="527.5">vfio_device </text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-341-541-122-26-0)" font-size="12px"><text x="342.5" y="553.5">group_next: list_head</text></g><path d="M 467 477 L 487 477 L 487 549 L 473.37 549" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 468.12 549 L 475.12 545.5 L 473.37 549 L 475.12 552.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 557 464 L 557 438 L 947 438 L 947 464" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 557 464 L 557 618 L 947 618 L 947 464" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 557 464 L 947 464" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="751.5" y="455.5">vfio_pci_ops</text></g><g fill="rgb(0, 0, 0)" font-family="Courier New" pointer-events="none" clip-path="url(#mx-clip-561-469-382-154-0)" font-size="12px"><text x="562.5" y="481.5">static const struct vfio_device_ops vfio_pci_ops = {</text><text x="562.5" y="495.5">    .name       = "vfio-pci",                       </text><text x="562.5" y="509.5">    .open       = vfio_pci_open,                    </text><text x="562.5" y="523.5">    .release    = vfio_pci_release,                 </text><text x="562.5" y="537.5">    .ioctl      = vfio_pci_ioctl,                   </text><text x="562.5" y="551.5">    .read       = vfio_pci_read,                    </text><text x="562.5" y="565.5">    .write      = vfio_pci_write,                   </text><text x="562.5" y="579.5">    .mmap       = vfio_pci_mmap,                    </text><text x="562.5" y="593.5">    .request    = vfio_pci_request,                 </text><text x="562.5" y="607.5">};                                                  </text></g><path d="M 337 136 L 337 110 L 877 110 L 877 136" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 337 136 L 337 330 L 877 330 L 877 136" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 337 136 L 877 136" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="606.5" y="127.5">vfio_iommu_driver_ops_type1</text></g><g fill="rgb(0, 0, 0)" font-family="Courier New" pointer-events="none" clip-path="url(#mx-clip-341-141-532-194-0)" font-size="12px"><text x="342.5" y="153.5">static const struct vfio_iommu_driver_ops vfio_iommu_driver_ops_type1 = {</text><text x="342.5" y="167.5">    .name           = "vfio-iommu-type1",</text><text x="342.5" y="181.5">    .owner          = THIS_MODULE,</text><text x="342.5" y="195.5">    .open           = vfio_iommu_type1_open,</text><text x="342.5" y="209.5">    .release        = vfio_iommu_type1_release,</text><text x="342.5" y="223.5">    .ioctl          = vfio_iommu_type1_ioctl,</text><text x="342.5" y="237.5">    .attach_group       = vfio_iommu_type1_attach_group,</text><text x="342.5" y="251.5">    .detach_group       = vfio_iommu_type1_detach_group,</text><text x="342.5" y="265.5">    .pin_pages      = vfio_iommu_type1_pin_pages,</text><text x="342.5" y="279.5">    .unpin_pages        = vfio_iommu_type1_unpin_pages,</text><text x="342.5" y="293.5">    .register_notifier  = vfio_iommu_type1_register_notifier,</text><text x="342.5" y="307.5">    .unregister_notifier    = vfio_iommu_type1_unregister_notifier,</text><text x="342.5" y="321.5">};</text></g><path d="M 247 203 L 254 203 C 254 199.1 260 199.1 260 203 L 260 203 L 292 203 L 292 128.5 L 329.01 128.48" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 334.26 128.48 L 327.26 131.98 L 329.01 128.48 L 327.26 124.98 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 167px; margin-left: 292px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">ops</div></div></div></foreignObject><text x="292" y="170" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="11px" text-anchor="middle">ops</text></switch></g><path d="M 217 729 L 257 730 L 257 886 C 260.9 886 260.9 892 257 892 L 257 892 L 257 915 L 270.63 915" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 275.88 915 L 268.88 918.5 L 270.63 915 L 268.88 911.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 217 640 L 457 640 L 457 830 L 495.63 830" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 500.88 830 L 493.88 833.5 L 495.63 830 L 493.88 826.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 502 856 L 502 830 L 912 830 L 912 856" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 502 856 L 502 970 L 912 970 L 912 856" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 502 856 L 912 856" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="706.5" y="847.5">vfio_pci_ops</text></g><g fill="rgb(0, 0, 0)" font-family="Courier New" pointer-events="none" clip-path="url(#mx-clip-506-861-402-114-0)" font-size="12px"><text x="507.5" y="873.5">static const struct file_operations vfio_group_fops = {</text><text x="507.5" y="887.5">    .owner      = THIS_MODULE,</text><text x="507.5" y="901.5">    .unlocked_ioctl = vfio_group_fops_unl_ioctl,</text><text x="507.5" y="915.5">    .compat_ioctl   = compat_ptr_ioctl,</text><text x="507.5" y="929.5">    .open       = vfio_group_fops_open,</text><text x="507.5" y="943.5">    .release    = vfio_group_fops_release,</text><text x="507.5" y="957.5">};</text></g><path d="M 527 656 L 527 630 L 947 630 L 947 656" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 527 656 L 527 800 L 947 800 L 947 656" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 527 656 L 947 656" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="736.5" y="647.5">vfio_mdev_dev_ops</text></g><g fill="rgb(0, 0, 0)" font-family="Courier New" pointer-events="none" clip-path="url(#mx-clip-531-661-412-144-0)" font-size="12px"><text x="532.5" y="673.5">static const struct vfio_device_ops vfio_mdev_dev_ops = {</text><text x="532.5" y="687.5">    .name       = "vfio-mdev",</text><text x="532.5" y="701.5">    .open       = vfio_mdev_open,</text><text x="532.5" y="715.5">    .release    = vfio_mdev_release,</text><text x="532.5" y="729.5">    .ioctl      = vfio_mdev_unlocked_ioctl,</text><text x="532.5" y="743.5">    .read       = vfio_mdev_read,</text><text x="532.5" y="757.5">    .write      = vfio_mdev_write,</text><text x="532.5" y="771.5">    .mmap       = vfio_mdev_mmap,</text><text x="532.5" y="785.5">};</text></g><path d="M 467 425 L 497 425 L 497 740.5 L 519.79 740.52" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 525.04 740.53 L 518.04 744.02 L 519.79 740.52 L 518.05 737.02 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 582px; margin-left: 497px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">mdev</div></div></div></foreignObject><text x="497" y="585" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">mdev</text></switch></g><rect x="987" y="703" width="110" height="50" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 728px; margin-left: 1042px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">backend device ops</div></div></div></foreignObject><text x="1042" y="732" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">backend device ops</text></switch></g><path d="M 947 728 L 980.63 728" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 985.88 728 L 978.88 731.5 L 980.63 728 L 978.88 724.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="987" y="516" width="110" height="50" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 541px; margin-left: 1042px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">PCI device</div></div></div></foreignObject><text x="1042" y="545" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">PCI device</text></switch></g><path d="M 947 541 L 980.63 541" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 985.88 541 L 978.88 544.5 L 980.63 541 L 978.88 537.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>