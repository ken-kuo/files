<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1241px" height="858px" viewBox="-0.5 -0.5 1241 858" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2022-09-24T07:54:03.138Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36&quot; etag=&quot;aasFzViD9pZYuR4rzSSW&quot; version=&quot;20.3.3&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;iHGhPvlXnuffIIIrRmfL&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-4-161-162-26-0"><rect x="4" y="161" width="162" height="26"/></clipPath><clipPath id="mx-clip-4-187-162-26-0"><rect x="4" y="187" width="162" height="26"/></clipPath><clipPath id="mx-clip-284-111-192-26-0"><rect x="284" y="111" width="192" height="26"/></clipPath><clipPath id="mx-clip-284-145-192-26-0"><rect x="284" y="145" width="192" height="26"/></clipPath><clipPath id="mx-clip-284-273-192-26-0"><rect x="284" y="273" width="192" height="26"/></clipPath><clipPath id="mx-clip-284-361-162-26-0"><rect x="284" y="361" width="162" height="26"/></clipPath><clipPath id="mx-clip-284-483-162-26-0"><rect x="284" y="483" width="162" height="26"/></clipPath><clipPath id="mx-clip-284-517-162-26-0"><rect x="284" y="517" width="162" height="26"/></clipPath><clipPath id="mx-clip-284-627-162-26-0"><rect x="284" y="627" width="162" height="26"/></clipPath><clipPath id="mx-clip-284-661-162-26-0"><rect x="284" y="661" width="162" height="26"/></clipPath><clipPath id="mx-clip-284-695-162-26-0"><rect x="284" y="695" width="162" height="26"/></clipPath><clipPath id="mx-clip-284-729-162-26-0"><rect x="284" y="729" width="162" height="26"/></clipPath><clipPath id="mx-clip-284-833-162-26-0"><rect x="284" y="833" width="162" height="26"/></clipPath><clipPath id="mx-clip-514-631-162-26-0"><rect x="514" y="631" width="162" height="26"/></clipPath><clipPath id="mx-clip-514-657-162-26-0"><rect x="514" y="657" width="162" height="26"/></clipPath><clipPath id="mx-clip-634-341-122-26-0"><rect x="634" y="341" width="122" height="26"/></clipPath><clipPath id="mx-clip-634-367-122-26-0"><rect x="634" y="367" width="122" height="26"/></clipPath><clipPath id="mx-clip-634-393-122-26-0"><rect x="634" y="393" width="122" height="26"/></clipPath><clipPath id="mx-clip-634-419-122-26-0"><rect x="634" y="419" width="122" height="26"/></clipPath><clipPath id="mx-clip-799-341-162-26-0"><rect x="799" y="341" width="162" height="26"/></clipPath><clipPath id="mx-clip-634-491-122-26-0"><rect x="634" y="491" width="122" height="26"/></clipPath><clipPath id="mx-clip-854-419-382-154-0"><rect x="854" y="419" width="382" height="154"/></clipPath><clipPath id="mx-clip-614-31-532-194-0"><rect x="614" y="31" width="532" height="194"/></clipPath><clipPath id="mx-clip-744-641-402-114-0"><rect x="744" y="641" width="402" height="114"/></clipPath></defs><g><path d="M 0 156 L 0 130 L 170 130 L 170 156" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 156 L 0 208 L 170 208 L 170 156" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 156 L 170 156" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="84.5" y="147.5">vfio (global)</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-161-162-26-0)" font-size="12px"><text x="5.5" y="173.5">iommu_drivers_list: list_head</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-187-162-26-0)" font-size="12px"><text x="5.5" y="199.5">group_list: list_head</text></g><path d="M 280 106 L 280 80 L 480 80 L 480 106" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 280 106 L 280 294 L 480 294 L 480 106" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 280 106 L 480 106" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="379.5" y="97.5">vfio_container </text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-284-111-192-26-0)" font-size="12px"><text x="285.5" y="123.5">group_list: list_head</text></g><path d="M 280 136 L 480 136" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-284-145-192-26-0)" font-size="12px"><text x="285.5" y="157.5">iommu_driver: vfio_iommu_driver</text></g><path d="M 280 170 L 480 170" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 190px; height: 1px; padding-top: 181px; margin-left: 286px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 82px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">iommu_data: void<br />VFIO_SET_IOMMU时指定，iommu_data为vfio_iommu_type1_open回传的vfio_iommu</div></div></div></foreignObject><text x="286" y="193" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">iommu_data: void...</text></switch></g><path d="M 280 264 L 480 264" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-284-273-192-26-0)" font-size="12px"><text x="285.5" y="285.5">noiommu: bool</text></g><path d="M 280 356 L 280 330 L 450 330 L 450 356" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 280 356 L 280 854 L 450 854 L 450 356" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 280 356 L 450 356" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="364.5" y="347.5">vfio_group</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-284-361-162-26-0)" font-size="12px"><text x="285.5" y="373.5">minor: int</text></g><path d="M 280 386 L 450 386" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 160px; height: 1px; padding-top: 397px; margin-left: 286px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 76px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">iommu_group: iommu_group *<br />vfio_group对应的iommu group，如果是vfio pci，则从iommu group在iommu初始化时已创建<div><br /></div></div></div></div></foreignObject><text x="286" y="409" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">iommu_group: iommu_group *...</text></switch></g><path d="M 280 474 L 450 474" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-284-483-162-26-0)" font-size="12px"><text x="285.5" y="495.5">container: vfio_container *</text></g><path d="M 280 508 L 450 508" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-284-517-162-26-0)" font-size="12px"><text x="285.5" y="529.5">device_list: list_head</text></g><path d="M 280 542 L 450 542" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 160px; height: 1px; padding-top: 553px; margin-left: 286px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 64px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">dev: device *<br />vfio_create_group调用device_create创建的char device<div><br /></div></div></div></div></foreignObject><text x="286" y="565" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">dev: device *...</text></switch></g><path d="M 280 618 L 450 618" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-284-627-162-26-0)" font-size="12px"><text x="285.5" y="639.5">nb: notifier_block</text></g><path d="M 280 652 L 450 652" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-284-661-162-26-0)" font-size="12px"><text x="285.5" y="673.5">vfio_next: list_head</text></g><path d="M 280 686 L 450 686" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-284-695-162-26-0)" font-size="12px"><text x="285.5" y="707.5">container_next: list_head</text></g><path d="M 280 720 L 450 720" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-284-729-162-26-0)" font-size="12px"><text x="285.5" y="741.5">unbound_list: list_head</text></g><path d="M 280 754 L 450 754" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 160px; height: 1px; padding-top: 765px; margin-left: 286px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 58px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">bool: noiommu<br />iommu_group-&gt;iommu_data若为NULL，代表没有真正iommu硬件，noiommu会为1</div></div></div></foreignObject><text x="286" y="777" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">bool: noiommu...</text></switch></g><path d="M 280 824 L 450 824" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-284-833-162-26-0)" font-size="12px"><text x="285.5" y="845.5">kvm: kvm *</text></g><path d="M 280 119 L 260 119 L 260 703 L 273.63 703" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 278.88 703 L 271.88 706.5 L 273.63 703 L 271.88 699.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 510 626 L 510 600 L 680 600 L 680 626" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 510 626 L 510 678 L 680 678 L 680 626" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 510 626 L 680 626" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="594.5" y="617.5">vfio_group</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-514-631-162-26-0)" font-size="12px"><text x="515.5" y="643.5">container_next: list_head</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-514-657-162-26-0)" font-size="12px"><text x="515.5" y="669.5">vfio_next: list_head</text></g><path d="M 450 703 L 480 703 L 480 639 L 503.63 639" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 508.88 639 L 501.88 642.5 L 503.63 639 L 501.88 635.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 450 491 L 490 491 L 490 50 L 380 50 L 380 73.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 78.88 L 376.5 71.88 L 380 73.63 L 383.5 71.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 170 195 L 225 195 L 225 669 L 257 669 C 257 665.1 263 665.1 263 669 L 263 669 L 273.63 669" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 278.88 669 L 271.88 672.5 L 273.63 669 L 271.88 665.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 630 336 L 630 310 L 760 310 L 760 336" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 630 336 L 630 440 L 760 440 L 760 336" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 630 336 L 760 336" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="694.5" y="327.5">vfio_device </text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-634-341-122-26-0)" font-size="12px"><text x="635.5" y="353.5">dev: device *</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-634-367-122-26-0)" font-size="12px"><text x="635.5" y="379.5">ops: vfio_device_ops</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-634-393-122-26-0)" font-size="12px"><text x="635.5" y="405.5">group: vfio_group</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-634-419-122-26-0)" font-size="12px"><text x="635.5" y="431.5">group_next: list_head</text></g><path d="M 795 336 L 795 310 L 965 310 L 965 336" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 795 336 L 795 362 L 965 362 L 965 336" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 795 336 L 965 336" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="879.5" y="327.5">pci_dev</text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-799-341-162-26-0)" font-size="12px"><text x="800.5" y="353.5">dev: device</text></g><path d="M 760 349 L 780 349 L 775 349 L 788.63 349" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 793.88 349 L 786.88 352.5 L 788.63 349 L 786.88 345.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 760 375 L 805 375 L 805 491 L 843.63 491" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 848.88 491 L 841.88 494.5 L 843.63 491 L 841.88 487.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 630 401 L 540 401 L 540 310 L 493 310 C 493 306.1 487 306.1 487 310 L 487 310 L 365 310 L 365 323.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 365 328.88 L 361.5 321.88 L 365 323.63 L 368.5 321.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 450 525 L 540 525 L 540 427 L 623.63 427" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 628.88 427 L 621.88 430.5 L 623.63 427 L 621.88 423.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 630 486 L 630 460 L 760 460 L 760 486" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 630 486 L 630 512 L 760 512 L 760 486" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 630 486 L 760 486" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="694.5" y="477.5">vfio_device </text></g><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-634-491-122-26-0)" font-size="12px"><text x="635.5" y="503.5">group_next: list_head</text></g><path d="M 760 427 L 780 427 L 780 499 L 766.37 499" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 761.12 499 L 768.12 495.5 L 766.37 499 L 768.12 502.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 850 414 L 850 388 L 1240 388 L 1240 414" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 850 414 L 850 568 L 1240 568 L 1240 414" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 850 414 L 1240 414" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="1044.5" y="405.5">vfio_pci_ops</text></g><g fill="rgb(0, 0, 0)" font-family="Courier New" pointer-events="none" clip-path="url(#mx-clip-854-419-382-154-0)" font-size="12px"><text x="855.5" y="431.5">static const struct vfio_device_ops vfio_pci_ops = {</text><text x="855.5" y="445.5">    .name       = "vfio-pci",                       </text><text x="855.5" y="459.5">    .open       = vfio_pci_open,                    </text><text x="855.5" y="473.5">    .release    = vfio_pci_release,                 </text><text x="855.5" y="487.5">    .ioctl      = vfio_pci_ioctl,                   </text><text x="855.5" y="501.5">    .read       = vfio_pci_read,                    </text><text x="855.5" y="515.5">    .write      = vfio_pci_write,                   </text><text x="855.5" y="529.5">    .mmap       = vfio_pci_mmap,                    </text><text x="855.5" y="543.5">    .request    = vfio_pci_request,                 </text><text x="855.5" y="557.5">};                                                  </text></g><path d="M 610 26 L 610 0 L 1150 0 L 1150 26" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 610 26 L 610 220 L 1150 220 L 1150 26" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 610 26 L 1150 26" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="879.5" y="17.5">vfio_pci_ops</text></g><g fill="rgb(0, 0, 0)" font-family="Courier New" pointer-events="none" clip-path="url(#mx-clip-614-31-532-194-0)" font-size="12px"><text x="615.5" y="43.5">static const struct vfio_iommu_driver_ops vfio_iommu_driver_ops_type1 = {</text><text x="615.5" y="57.5">    .name           = "vfio-iommu-type1",</text><text x="615.5" y="71.5">    .owner          = THIS_MODULE,</text><text x="615.5" y="85.5">    .open           = vfio_iommu_type1_open,</text><text x="615.5" y="99.5">    .release        = vfio_iommu_type1_release,</text><text x="615.5" y="113.5">    .ioctl          = vfio_iommu_type1_ioctl,</text><text x="615.5" y="127.5">    .attach_group       = vfio_iommu_type1_attach_group,</text><text x="615.5" y="141.5">    .detach_group       = vfio_iommu_type1_detach_group,</text><text x="615.5" y="155.5">    .pin_pages      = vfio_iommu_type1_pin_pages,</text><text x="615.5" y="169.5">    .unpin_pages        = vfio_iommu_type1_unpin_pages,</text><text x="615.5" y="183.5">    .register_notifier  = vfio_iommu_type1_register_notifier,</text><text x="615.5" y="197.5">    .unregister_notifier    = vfio_iommu_type1_unregister_notifier,</text><text x="615.5" y="211.5">};</text></g><path d="M 480 153 L 487 153 C 487 149.1 493 149.1 493 153 L 493 153 L 545 153 L 545 18.5 L 602.01 18.48" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 607.26 18.48 L 600.26 21.98 L 602.01 18.48 L 600.26 14.98 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 87px; margin-left: 545px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">ops</div></div></div></foreignObject><text x="545" y="90" fill="rgb(0, 0, 0)" font-family="Courier New" font-size="11px" text-anchor="middle">ops</text></switch></g><path d="M 450 669 L 477 669 C 477 665.1 483 665.1 483 669 L 483 669 L 490 669 L 490 665 L 503.63 665" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 508.88 665 L 501.88 668.5 L 503.63 665 L 501.88 661.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 450 580 L 945 580 L 945 603.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 945 608.88 L 941.5 601.88 L 945 603.63 L 948.5 601.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 740 636 L 740 610 L 1150 610 L 1150 636" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 740 636 L 740 750 L 1150 750 L 1150 636" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 740 636 L 1150 636" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="944.5" y="627.5">vfio_pci_ops</text></g><g fill="rgb(0, 0, 0)" font-family="Courier New" pointer-events="none" clip-path="url(#mx-clip-744-641-402-114-0)" font-size="12px"><text x="745.5" y="653.5">static const struct file_operations vfio_group_fops = {</text><text x="745.5" y="667.5">    .owner      = THIS_MODULE,</text><text x="745.5" y="681.5">    .unlocked_ioctl = vfio_group_fops_unl_ioctl,</text><text x="745.5" y="695.5">    .compat_ioctl   = compat_ptr_ioctl,</text><text x="745.5" y="709.5">    .open       = vfio_group_fops_open,</text><text x="745.5" y="723.5">    .release    = vfio_group_fops_release,</text><text x="745.5" y="737.5">};</text></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>